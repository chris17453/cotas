# Project Rules

## CRITICAL — DO NOT DELETE OUTPUT

**NEVER delete, wipe, or `shutil.rmtree()` any of these directories:**

- `docs/` — Contains extracted reference documentation (generated by LLM, costs hours of API calls to regenerate)
- `.cache/` — Contains cached LLM responses (prevents re-calling expensive APIs)
- `command_reference/` — Previous extraction output
- `command_reference_v2/` — Previous extraction output

**NEVER run `--clean` flags or add code that removes these directories.**

The LLM extraction (`extract_reference.py`) takes ~5 hours and costs real money in API calls. Deleting the output or cache means re-running the entire thing from scratch.

If you need to regenerate specific files, regenerate ONLY those files. Do not wipe entire directories.

## NEVER auto-delete generated output

When writing extraction/generation scripts:
- Do NOT add `shutil.rmtree(OUTPUT_DIR)` at the start
- Do NOT add `--clean` flags that wipe everything
- Use `os.makedirs(exist_ok=True)` and overwrite individual files instead
- If a clean rebuild is truly needed, ask the user first — never do it automatically

## Project Overview

This project extracts reference documentation from `TASPro5Book.txt` (TAS Professional 5.1 manual) into organized markdown files.

### Key Files
- `extract_reference.py` — LLM-powered extraction using Azure OpenAI (primary, most accurate)
- `generate_reference.py` — Pure Python/regex extraction (v4, fallback)
- `generate_reference_v3.py` — Pure Python/regex extraction (v3, older)
- `TASPro5Book.txt` — Source manual text
- `TASPro5Book.pdf` — Source manual PDF

### Output Structure
- `docs/commands/` — Individual command reference files
- `docs/functions/` — Individual function reference files
- `docs/structured-programming/` — Control flow structures
- `docs/compiler/` — Compiler information
- `docs/errors/` — Error codes
- `docs/windows/` — Windows-specific features
- `docs/json/` — Raw JSON from LLM responses (for rebuild without API calls)
